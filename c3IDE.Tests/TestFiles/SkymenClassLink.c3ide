{"Id":"04b39937-8a0f-4890-8e58-468a5dd978c9","Name":"ClassLink","Class":"SkymenClassLink","Company":"skymen","Author":"skymen","Version":"1.0.0.0","Description":"Links an object to a class","AddonFolder":"C:\\Users\\ossam\\AppData\\Roaming\\C3IDE_DATA\\Server\\Test\\skymenclasslink","Type":3,"TypeName":"(Behavior)","IconXml":"<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\r\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\r\n<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n\t width=\"1700.79004px\" height=\"1700.79004px\" viewBox=\"499 379 690 690\"\r\n\t enable-background=\"new 0 0 1700.79004 1700.79004\" xml:space=\"preserve\">\r\n<g id=\"bg\">\r\n\t<g>\r\n\t\t<g>\r\n\t\t\t<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" fill=\"#D2E1F0\" d=\"M850.39453,860.66992\r\n\t\t\t\tc-50.35645,0-94.3252-27.35645-117.85254-68.02051l-80.03027,46.2041c-4.6543,2.68945-6.13086,8.71875-3.24805,13.25586\r\n\t\t\t\tC691.50098,918.5957,765.7959,962.7168,850.39453,962.7168c88.12598,0,165.07129-47.875,206.24316-119.03613l-80.48633-46.46973\r\n\t\t\t\tc-4.31445-2.49023-9.80273-1.20508-12.57129,2.93555C939.1748,836.64063,897.59082,860.66992,850.39453,860.66992\r\n\t\t\t\tL850.39453,860.66992z M1136.7207,559.2959c4.61426-2.66309,6.11035-8.61914,3.3125-13.15137\r\n\t\t\t\tc-59.91504-97.03027-167.22461-161.69434-289.63867-161.69434c-125.89355,0-235.81348,68.39258-294.63379,170.0498\r\n\t\t\t\tl80.37695,46.40625c4.39844,2.53906,10.00195,1.14941,12.71094-3.14551\r\n\t\t\t\tc42.16406-66.85156,116.66992-111.26367,201.5459-111.26367c88.12598,0,165.07129,47.87598,206.24316,119.03613\r\n\t\t\t\tL1136.7207,559.2959z\"/>\r\n\t\t\t<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" fill=\"#96AAB9\" d=\"M850.39453,962.7168\r\n\t\t\t\tc-84.59863,0-158.89355-44.12109-201.13086-110.60742c-2.87695-4.53027-1.40039-10.57031,3.24805-13.25586l80.03027-46.2041\r\n\t\t\t\tc-11.58105-20.0166-18.20996-43.25488-18.20996-68.04199c0-74.78516,60.55762-136.0625,136.0625-136.0625\r\n\t\t\t\tc47.19629,0,88.78027,24.0293,113.18555,60.52246c2.76465,4.13379,8.26367,5.42188,12.57129,2.93555l80.48633-46.46973\r\n\t\t\t\tc-41.17188-71.16016-118.11719-119.03613-206.24316-119.03613c-84.87598,0-159.38184,44.41211-201.5459,111.26367\r\n\t\t\t\tc-2.70605,4.29102-8.31836,5.68164-12.71094,3.14551L555.76074,554.5c-28.95215,50.04004-45.52344,108.13965-45.52344,170.10742\r\n\t\t\t\tc0,186.96484,151.39453,340.1582,340.15723,340.1582c122.41406,0,229.72363-64.66406,289.63867-161.69531\r\n\t\t\t\tc2.7959-4.52734,1.29492-10.49023-3.3125-13.15234l-80.08301-46.2373\r\n\t\t\t\tC1015.46582,914.8418,938.52051,962.7168,850.39453,962.7168z\"/>\r\n\t\t</g>\r\n\t\t<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" fill=\"#00E1C8\" d=\"M1137.18457,761.19141v-73.16797l-63.36523,36.58398\r\n\t\t\tL1137.18457,761.19141L1137.18457,761.19141z M1026.5752,708.24219l120.05859-69.31641\r\n\t\t\tc12.56836-7.25586,28.3457,1.85254,28.3457,16.36621v138.63086c0,14.5127-15.77734,23.62207-28.3457,16.36621\r\n\t\t\tl-120.05859-69.31641C1014.02734,733.72754,1014.02734,715.4873,1026.5752,708.24219z\"/>\r\n\t</g>\r\n</g>\r\n<g id=\"logo\">\r\n</g>\r\n</svg>","IconImage":"System.Windows.Media.Imaging.BitmapImage","CreateDate":"2019-02-12T11:17:32.48+01:00","LastModified":"2019-02-13T12:02:48.8359364+01:00","ChangeDate":"2019-02-13, 12:02","AddonJson":"{\r\n\t\"is-c3-addon\": true,\r\n\t\"type\": \"behavior\",\r\n\t\"name\": \"ClassLink\",\r\n\t\"id\": \"skymen_SkymenClassLink\",\r\n\t\"version\": \"1.0.0.0\",\r\n\t\"author\": \"skymen\",\r\n\t\"website\": \"https://www.construct.net\",\r\n\t\"documentation\": \"https://www.construct.net\",\r\n\t\"description\": \"Links an object to a class\",\r\n\t\"editor-scripts\": [\r\n\t\t\t\t\t\t\"behavior.js\",\r\n\t\t\t\t\t\t\"type.js\",\r\n\t\t\t\t\t\t\"instance.js\"\r\n\t\t\t\t\t],\r\n\t\"file-list\": [\r\n\t\t\"c3runtime/behavior.js\",\r\n\t\t\"c3runtime/type.js\",\r\n\t\t\"c3runtime/instance.js\",\r\n\t\t\"c3runtime/conditions.js\",\r\n\t\t\"c3runtime/actions.js\",\r\n\t\t\"c3runtime/expressions.js\",\r\n\t\t\"lang/en-US.json\",\r\n\t\t\"aces.json\",\r\n\t\t\"addon.json\",\r\n\t\t\"icon.svg\",\r\n\t\t\"instance.js\",\r\n\t\t\"behavior.js\",\r\n\t\t\"type.js\"\r\n\t]\r\n}","PluginEditTime":"\"use strict\";\r\n{\r\n\r\n\tconst BEHAVIOR_ID = \"skymen_SkymenClassLink\";\t\r\n\tconst BEHAVIOR_VERSION = \"1.0.0.0\";\r\n\tconst BEHAVIOR_CATEGORY = \"general\";\r\n\t\r\n\tconst BEHAVIOR_CLASS = SDK.Behaviors.skymen_SkymenClassLink = class SkymenClassLinkBehavior extends SDK.IBehaviorBase\r\n\t{\r\n\t\tconstructor()\r\n\t\t{\r\n\t\t\tsuper(BEHAVIOR_ID);\r\n\t\t\t\r\n\t\t\tSDK.Lang.PushContext(\"behaviors.\" + BEHAVIOR_ID.toLowerCase());\r\n\t\t\t\r\n\t\t\tthis._info.SetName(lang(\".name\"));\r\n\t\t\tthis._info.SetDescription(lang(\".description\"));\r\n\t\t\tthis._info.SetVersion(BEHAVIOR_VERSION);\r\n\t\t\tthis._info.SetCategory(BEHAVIOR_CATEGORY);\r\n\t\t\tthis._info.SetAuthor(\"skymen\");\r\n\t\t\tthis._info.SetHelpUrl(lang(\".help-url\"));\r\n\t\t\tthis._info.SetIsOnlyOneAllowed(true);\r\n\r\n\t\t\tthis._info.SetSupportedRuntimes([\"c3\"]);\r\n\t\t\t\r\n\t\t\tSDK.Lang.PushContext(\".properties\");\r\n\t\r\n\t\t\tthis._info.SetProperties([\r\n\t\t\t\tnew SDK.PluginProperty(\"text\", \"class-name\", \"\"),\r\n\t\t\t\tnew SDK.PluginProperty(\"longtext\", \"data\", \"{}\"),\r\n\t\t\t\tnew SDK.PluginProperty(\"text\", \"tick\", \"\"),\r\n\t\t\t\tnew SDK.PluginProperty(\"text\", \"tick2\", \"\")\r\n\t\t\t]);\r\n\t\t\t\r\n            SDK.Lang.PopContext(); //.properties\r\n\t\t\tSDK.Lang.PopContext();\r\n\t\t}\r\n\t};\r\n\t\r\n\tBEHAVIOR_CLASS.Register(BEHAVIOR_ID, BEHAVIOR_CLASS);\r\n}","PluginRunTime":"\"use strict\";\r\n{\r\n\tC3.Behaviors.skymen_SkymenClassLink = class SkymenClassLinkBehavior extends C3.SDKBehaviorBase\r\n\t{\r\n\t\tconstructor(opts)\r\n\t\t{\r\n\t\t\tsuper(opts);\r\n\t\t}\r\n\t\t\r\n\t\tRelease()\r\n\t\t{\r\n\t\t\tsuper.Release();\r\n\t\t}\r\n\t};\r\n}","TypeEditTime":"\"use strict\";\r\n{\r\n\tconst BEHAVIOR_CLASS = SDK.Behaviors.skymen_SkymenClassLink;\r\n\t\r\n\tBEHAVIOR_CLASS.Type = class SkymenClassLinkType extends SDK.IBehaviorTypeBase\r\n\t{\r\n\t\tconstructor(sdkPlugin, iBehaviorType)\r\n\t\t{\r\n\t\t\tsuper(sdkPlugin, iBehaviorType);\r\n\t\t}\r\n\t};\r\n}","TypeRunTime":"\"use strict\";\r\n{\r\n\tC3.Behaviors.skymen_SkymenClassLink.Type = class SkymenClassLinkType extends C3.SDKBehaviorTypeBase\r\n\t{\r\n\t\tconstructor(objectClass)\r\n\t\t{\r\n\t\t\tsuper(objectClass);\r\n\t\t}\r\n\t\t\r\n\t\tRelease()\r\n\t\t{\r\n\t\t\tsuper.Release();\r\n\t\t}\r\n\t\t\r\n\t\tOnCreate()\r\n\t\t{\t\r\n\t\t}\r\n\t};\r\n}","InstanceEditTime":"\"use strict\";\r\n{\r\n\tconst BEHAVIOR_CLASS = SDK.Behaviors.skymen_SkymenClassLink;\r\n\t\r\n\tBEHAVIOR_CLASS.Instance = class SkymenClassLinkInstance extends SDK.IBehaviorInstanceBase\r\n\t{\r\n\t\tconstructor(sdkBehType, behInst)\r\n\t\t{\r\n\t\t\tsuper(sdkBehType, behInst);\r\n\t\t}\r\n\t\t\r\n\t\tRelease()\r\n\t\t{\r\n\t\t}\r\n\t\t\r\n\t\tOnCreate()\r\n\t\t{\r\n\t\t}\r\n\t\t\r\n\t\tOnPropertyChanged(id, value)\r\n\t\t{\r\n\t\t}\r\n\t\t\r\n\t\tLoadC2Property(name, valueString)\r\n\t\t{\r\n\t\t\treturn false;\t\t// not handled\r\n\t\t}\r\n\t};\r\n}","InstanceRunTime":"\"use strict\";\r\n{\r\n\tC3.Behaviors.skymen_SkymenClassLink.Instance = class SkymenClassLinkInstance extends C3.SDKBehaviorInstanceBase\r\n\t{\r\n\t\tconstructor(behInst, properties)\r\n\t\t{\r\n\t\t\tsuper(behInst);\r\n\t\t\t\r\n\t\t\tthis.returnValue = null;\r\n\t\t\tthis.data = properties[1];\r\n\t\t\tthis.className = properties[0]\r\n\t\t\tthis.linkedClass = new window[properties[0]](this, this.data);\r\n\t\t\tthis.tickfn = properties[2];\r\n\t\t\tthis.tick2fn = properties[2];\r\n\t\t\t\r\n\t\t\tif (this.tickfn != \"\" && this.linkedClass[this.tickfn])\r\n\t\t\t\tthis._StartTicking()\r\n\t\t\tif (this.tick2fn != \"\" && this.linkedClass[this.tick2fn])\r\n\t\t\t\tthis._StartTicking2()\r\n\t\t}\r\n\t\t\r\n\t\tRelease()\r\n\t\t{\r\n\t\t\tsuper.Release();\r\n\t\t}\r\n\t\t\r\n\t\tSaveToJson()\r\n\t\t{\r\n\t\t\tlet classStatus = null\r\n\t\t\tif(this.linkedClass.SaveToJson){\r\n\t\t\t\tclassStatus = this.linkedClass.SaveToJson()\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\treturnValue: this.returnValue,\r\n\t\t\t\tclassName: this.className,\r\n\t\t\t\ttickfn: this.tickfn,\r\n\t\t\t\ttick2fn: this.tick2fn,\r\n\t\t\t\tclassData: this.data,\r\n\t\t\t\tclassStatus\r\n\t\t\t};\r\n\t\t}\r\n\t\t\r\n\t\tLoadFromJson(o)\r\n\t\t{\r\n\t\t\tthis.returnValue = o.returnValue\r\n\t\t\tthis.className = o.className\r\n\t\t\tthis.tickfn = o.tickfn\r\n\t\t\tthis.tick2fn = o.tick2fn\r\n\t\t\tthis.data = o.classData\r\n\t\t\tthis.linkedClass = new window[this.className](this, this.data);\r\n\t\t\tif(o.classStatus != null && this.linkedClass.LoadFromJson){\r\n\t\t\t\tthis.linkedClass.LoadFromJson(o.classStatus);\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t}\r\n\r\n\t\t\r\n\t\tTick()\r\n\t\t{\r\n\t\t\tthis.linkedClass[this.tickfn](this)\r\n\t\t}\r\n\t\t\r\n\t\tTick2()\r\n\t\t{\r\n\t\t\tthis.linkedClass[this.tick2fn](this)\r\n\t\t}\r\n\t\t\r\n\t};\r\n}","LanguageProperties":"\"properties\": {\r\n    \"class-name\": {\r\n      \"name\": \"Class Name\",\r\n      \"desc\": \"The name of the class to link\"\r\n    },\r\n    \"data\": {\r\n      \"name\": \"Data\",\r\n      \"desc\": \"The data to pass to the class\"\r\n    },\r\n    \"tick\": {\r\n      \"name\": \"Tick\",\r\n      \"desc\": \"The function name called at tick\"\r\n    },\r\n    \"tick2\": {\r\n      \"name\": \"Tick2\",\r\n      \"desc\": \"The function name called at tick2\"\r\n    }\r\n  }","LanguageCategories":"\"aceCategories\": {\r\n    \"general\" : \"General\"\r\n}","EffectLanguage":null,"EffectCode":null,"Categories":["general"],"Actions":{"call-fn":{"Id":"call-fn","Category":"general","ScriptName":"CallFn","Ace":"{\r\n  \"id\": \"call-fn\",\r\n  \"scriptName\": \"CallFn\",\r\n  \"highlight\": true,\r\n  \"params\": [\r\n    {\r\n      \"id\": \"name\",\r\n      \"type\": \"string\"\r\n    },\r\n    {\r\n      \"id\": \"params\",\r\n      \"type\": \"variadic\"\r\n    }\r\n  ]\r\n}","DisplayText":"Call {0}","Description":"Calls a method in the linked class","Highlight":"true","Language":"\"call-fn\": {\r\n    \"list-name\": \"Call Method\",\r\n    \"display-text\": \"{my}: {0}({1}{...})\",\r\n    \"description\": \"Calls a method in the linked class\",\r\n    \"params\": {\r\n      \"params\": {\r\n        \"name\": \"Parameter {n}\",\r\n        \"desc\": \"The params to pass to the function\"\r\n      },\r\n      \"name\": {\r\n        \"name\": \"Name\",\r\n        \"desc\": \"The name of the function to call\"\r\n      }\r\n    }\r\n  }","Code":"CallFn(str, params)\r\n{\r\n\tthis.returnValue = this.linkedClass[str].apply(this.linkedClass, params)\r\n}","ListName":"Call Method"}},"Conditions":{},"Expressions":{"return-value":{"Id":"return-value","Category":"general","ScriptName":"ReturnValue","IsVariadicParameters":"returnvalue","Ace":"{\r\n\t\"id\": \"return-value\",\r\n\t\"expressionName\": \"ReturnValue\",\r\n\t\"returnType\": \"any\"\r\n}","TranslatedName":"ReturnValue","Description":"The return value of the last function","ReturnType":"any","Language":"\"return-value\": { \r\n\t\"translated-name\": \"ReturnValue\",\r\n\t\"description\": \"The return value of the last function\"\r\n}","Code":"ReturnValue()\r\n{\r\n\treturn this.returnValue;\r\n}"},"method":{"Id":"method","Category":"general","ScriptName":"Method","IsVariadicParameters":"method","Ace":"{\r\n  \"id\": \"method\",\r\n  \"expressionName\": \"Method\",\r\n  \"returnType\": \"any\",\r\n  \"isVariadicParameters\": true,\r\n  \"params\": [\r\n    {\r\n      \"id\": \"name\",\r\n      \"type\": \"string\"\r\n    }\r\n  ]\r\n}","TranslatedName":"Method","Description":"Call a method and get its return value","ReturnType":"any","Language":"\"method\": { \r\n\t\"translated-name\": \"Method\",\r\n\t\"description\": \"Call a method and get its return value\",\r\n\t\"params\": {\r\n        \"name\": {\r\n            \"name\": \"Method Name\",\r\n            \"desc\": \"The name of the method\"\r\n        }\r\n    }\r\n}","Code":"Method(str, ...params)\r\n{\r\n\treturn this.linkedClass[str].apply(this.linkedClass, params)\r\n}"},"property":{"Id":"property","Category":"general","ScriptName":"Property","IsVariadicParameters":"property","Ace":"{\r\n\t\"id\": \"property\",\r\n\t\"expressionName\": \"Property\",\r\n\t\"returnType\": \"any\",\r\n\t\"isVariadicParameters\": true\r\n}","TranslatedName":"Property","Description":"Get a property from the object","ReturnType":"any","Language":"\"property\": { \r\n\t\"translated-name\": \"Property\",\r\n\t\"description\": \"Get a property from the object\"\r\n}","Code":"Property(...path)\r\n{\r\n\tlet ptr = this.linkedClass;\r\n\tfor (let i = 0; i < path.length; i++) {\r\n\t  const el = path[i];\r\n\t  ptr = ptr[el]\r\n\t}\r\n\treturn ptr;\r\n}"}},"ThirdPartyFiles":{}}